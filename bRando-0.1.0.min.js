const bRando={version:"0.1.0",bRandoBackgroundRandomizers:[],bRandoPreloadedImgs:[],extractImgURL:backgroundProperty=>{if(backgroundProperty.includes("url(")){return backgroundProperty.substring(backgroundProperty.indexOf("url(")+5).substring(0,backgroundProperty.substring(backgroundProperty.indexOf("url(")+5).indexOf(backgroundProperty[backgroundProperty.indexOf("url(")+4]))}return 1},isPreloadedImg:imageURL=>{for(let i=0;i<bRando.bRandoPreloadedImgs.length;i++)if(bRando.bRandoPreloadedImgs[i].src==imageURL)return!0;return!1},new:(selector_string,background_arr,interval_ms,transition_ms,random_order)=>{let newbRandoBackgroundRandomizer=new bRandoBackgroundRandomizer;return null!=selector_string&&(newbRandoBackgroundRandomizer.selector_string=selector_string),newbRandoBackgroundRandomizer.elements=document.querySelectorAll(newbRandoBackgroundRandomizer.selector_string),0==newbRandoBackgroundRandomizer.elements.length?1:(null!=background_arr&&(newbRandoBackgroundRandomizer.background_arr=background_arr),null!=interval_ms&&(newbRandoBackgroundRandomizer.interval_ms=interval_ms),null!=transition_ms&&(newbRandoBackgroundRandomizer.transition_ms=transition_ms),null!=random_order&&(newbRandoBackgroundRandomizer.random_order=random_order),newbRandoBackgroundRandomizer.og_transition_property=newbRandoBackgroundRandomizer.elements[0].style.transition,newbRandoBackgroundRandomizer.og_background_property=newbRandoBackgroundRandomizer.elements[0].style.background,newbRandoBackgroundRandomizer.background_arr.forEach(background_prop=>{let imgURL=bRando.extractImgURL(background_prop);if(1!=imgURL&&!bRando.isPreloadedImg(imgURL)){let newImg=document.createElement("img");newImg.style.display="none",newImg.onerror=()=>{console.error("Error preloading "+newImg.src+".")},newImg.onload=()=>{bRando.bRandoPreloadedImgs.push(newImg),-1==newbRandoBackgroundRandomizer.last_background&&newbRandoBackgroundRandomizer.next()},newImg.src=imgURL}}),bRando.bRandoBackgroundRandomizers.forEach(bRandoBackgroundRandomizer=>{if(bRandoBackgroundRandomizer.selector_string===newbRandoBackgroundRandomizer.selector_string)return newbRandoBackgroundRandomizer.og_transition_property=bRandoBackgroundRandomizer.og_transition_property,newbRandoBackgroundRandomizer.og_background_property=bRandoBackgroundRandomizer.og_background_property,void bRandoBackgroundRandomizer.remove()}),bRando.bRandoBackgroundRandomizers.push(newbRandoBackgroundRandomizer),newbRandoBackgroundRandomizer.elements.forEach(element=>{element.style.transition="background "+newbRandoBackgroundRandomizer.transition_ms/1e3+"s ease-out"}),newbRandoBackgroundRandomizer.next(),newbRandoBackgroundRandomizer.play(),newbRandoBackgroundRandomizer)},nextAll:()=>{var numErrors=0;return bRando.bRandoBackgroundRandomizers.forEach(bRandoBackgroundRandomizer=>{0!=bRandoBackgroundRandomizer.next()&&numErrors++}),numErrors},pauseAll:()=>{var numErrors=0;return bRando.bRandoBackgroundRandomizers.forEach(bRandoBackgroundRandomizer=>{0!=bRandoBackgroundRandomizer.pause()&&numErrors++}),numErrors},playAll:()=>{var numErrors=0;return bRando.bRandoBackgroundRandomizers.forEach(bRandoBackgroundRandomizer=>{0!=bRandoBackgroundRandomizer.play()&&numErrors++}),numErrors},removeAll:()=>{return Array.from(bRando.bRandoBackgroundRandomizers).forEach(bRandoBackgroundRandomizer=>{bRandoBackgroundRandomizer.remove()}),0}};class bRandoBackgroundRandomizer{constructor(){this.selector_string="html",this.elements=[],this.background_arr=["url('https://images.unsplash.com/photo-1497250681960-ef046c08a56e')","fixed url('https://images.unsplash.com/photo-1491147334573-44cbb4602074') bottom no-repeat","url('https://images.unsplash.com/photo-1543835683-ec5466c68daa')","#ff00ff","url('https://images.unsplash.com/photo-1485841938031-1bf81239b815')","url('https://images.unsplash.com/photo-1550353185-761a5da3ee96')","rgb(219,125,0)","rgba(131,92,59,1.0)",'url("https://images.unsplash.com/photo-1449496967047-2a322e78ec26")',"url('https://images.unsplash.com/photo-1517789171-f2c4f83f1afd')","url('https://images.unsplash.com/photo-1552084117-56a987666449')","#ff0000f0","#6c757d"],this.interval_ms=1e4,this.transition_ms=2500,this.random_order=!0,this.randomizer_id=null,this.last_background=-1,this.transitioning=!1,this.og_transition_property="",this.og_background_property=""}next(){if(this.transitioning)return 1;this.transitioning=!0;let indexOfNextBackground=this.last_background;if(this.random_order)do{indexOfNextBackground=Math.floor(Math.random()*(this.background_arr.length-1-0+1)+0)}while(1!=this.background_arr.length&&indexOfNextBackground==this.last_background);else indexOfNextBackground=indexOfNextBackground=this.last_background+1>this.background_arr.length-1?0:++this.last_background;let imgURL=bRando.extractImgURL(this.background_arr[indexOfNextBackground]);return 1==imgURL||bRando.isPreloadedImg(imgURL)?(this.elements.forEach(element=>{element.style.background=this.background_arr[indexOfNextBackground],"initial"==element.style.backgroundImage&&(element.style.backgroundImage="url('trans.png')"),"initial"==element.style.backgroundSize&&(element.style.backgroundSize="cover"),"initial"==element.style.backgroundRepeat&&(element.style.backgroundRepeat="no-repeat"),"initial"==element.style.backgroundAttachment&&(element.style.backgroundAttachment="fixed"),"initial"==element.style.backgroundPosition&&(element.style.backgroundPosition="center")}),this.last_background=indexOfNextBackground,this.elements[this.elements.length-1].addEventListener("transitionend",()=>{this.transitioning=!1}),null!=this.randomizer_id&&(this.pause(),this.play()),0):(this.transitioning=!1,2)}pause(){return null!=this.randomizer_id?(clearInterval(this.randomizer_id),this.randomizer_id=null,0):1}play(){return null!=this.randomizer_id?1:(this.randomizer_id=setInterval(()=>this.next(),this.interval_ms),0)}remove(){return this.pause(),this.elements.forEach(element=>{element.style.transition=this.og_transition_property,element.style.background=this.og_background_property}),bRando.bRandoBackgroundRandomizers.splice(bRando.bRandoBackgroundRandomizers.indexOf(this),1),0}}