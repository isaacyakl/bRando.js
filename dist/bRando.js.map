{"version":3,"file":"bRando.js","mappings":"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","sources":["webpack://bRando/webpack/universalModuleDefinition","webpack://bRando/webpack/bootstrap","webpack://bRando/webpack/runtime/define property getters","webpack://bRando/webpack/runtime/hasOwnProperty shorthand","webpack://bRando/webpack/runtime/make namespace object","webpack://bRando/./src/bRando.ts","webpack://bRando/./src/browser/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bRando\"] = factory();\n\telse\n\t\troot[\"bRando\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import packageJSON from \"../package.json\";\n\nexport interface Options {\n\t/** A [CSS selector](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors); multiple DOM element selections are supported. e.g. `\"main\"`\n\t * @defaultValue `\"body\"`\n\t */\n\tCSSSelector?: string;\n\n\t/** [CSS background values](https://developer.mozilla.org/en-US/docs/Web/CSS/background) without the \"background: \". e.g. `[\"red\",\"blue\",\"green\"]`\n\t * @defaultValue An array of demo values\n\t */\n\tbackgrounds?: string[];\n\n\t/** The time between background changes in milliseconds. e.g. `5000`\n\t * @defaultValue `7500`\n\t */\n\ttimeout?: number;\n\n\t/** Whether to rotate through the backgrounds randomly or not (a background will never repeat unless only one is given).\n\t * @defaultValue `true`\n\t *\n\t */\n\trandom?: boolean;\n\n\t/** A [CSS transition value](https://developer.mozilla.org/en-US/docs/Web/CSS/transition) without a [transition-property](https://developer.mozilla.org/en-US/docs/Web/CSS/transition-property) to be used when changing between backgrounds. e.g. `\"500ms ease-in\"` or `\"0.5s ease-in-out 0.25s\"`\n\t * @defaultValue `\"5000ms\"`\n\t */\n\ttransition?: string;\n}\n\n/**\n * Class for creating a CSS background property changer.\n */\nexport class bRando {\n\tprotected readonly _CSSSelector: string = \"\";\n\tpublic get CSSSelector(): string {\n\t\treturn this._CSSSelector;\n\t}\n\n\tprotected readonly _nodes: NodeList;\n\tpublic get nodes(): NodeList {\n\t\treturn this._nodes;\n\t}\n\n\tprotected _backgrounds: string[] = [];\n\tpublic get backgrounds(): string[] {\n\t\treturn this._backgrounds;\n\t}\n\tpublic set backgrounds(value: string[] | undefined) {\n\t\tif (\n\t\t\tArray.isArray(value) &&\n\t\t\tvalue.every((b) => {\n\t\t\t\treturn typeof b === \"string\";\n\t\t\t})\n\t\t) {\n\t\t\tthis._backgrounds = value;\n\t\t} else {\n\t\t\tlet scriptEl = Array.from(document.scripts).find((e) => e.src.includes(packageJSON.details.stylizedName));\n\n\t\t\tlet scriptsPath = scriptEl === undefined ? \"./img/\" : `${scriptEl.src.substring(0, scriptEl.src.lastIndexOf(`${packageJSON.details.stylizedName}.js`))}img/`;\n\n\t\t\t// demo backgrounds\n\t\t\t// prettier-ignore\n\t\t\tthis._backgrounds = [\n\t\t\t\t`url(\"${scriptsPath}alex-knight-vaA6EQiUSo4-unsplash_result.jpg\") center/cover no-repeat`, \n\t\t\t\t`url(\"${scriptsPath}joel-fulgencio-01fAtHwYqo0-unsplash_result.jpg\") center/cover no-repeat`, \n\t\t\t\t`url(\"${scriptsPath}pawel-nolbert-4u2U8EO9OzY-unsplash_result.jpg\") center/cover no-repeat`,\n\t\t\t\t`url(\"${scriptsPath}stephan-valentin-oqYLdbuJDQU-unsplash_result.jpg\") center/cover no-repeat`,\n\t\t\t\t`url(\"${scriptsPath}waranont-joe-T7qyLNPwgKA-unsplash_result.jpg\") center/cover no-repeat`,\n\t\t\t\t`linear-gradient(80deg, #0864c8 25%, #588fca 75%)`,\n\t\t\t];\n\t\t}\n\t}\n\n\tprotected _timeout: number = 0;\n\tpublic get timeout(): number {\n\t\treturn this._timeout;\n\t}\n\tpublic set timeout(value: number | undefined) {\n\t\tif (value && value > 0) {\n\t\t\tthis._timeout = value;\n\t\t} else {\n\t\t\tthis._timeout = 7500;\n\t\t}\n\t\tif (this._changer !== -1) {\n\t\t\tthis.pause();\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tprotected _random: boolean = true;\n\tpublic get random(): boolean {\n\t\treturn this._random;\n\t}\n\tpublic set random(value: boolean | undefined) {\n\t\tthis._random = typeof value !== \"boolean\" ? true : value;\n\t}\n\n\tprotected _transition: string = \"\";\n\tpublic get transition(): string {\n\t\treturn this._transition;\n\t}\n\tpublic set transition(value: string | undefined) {\n\t\tthis._transition = typeof value !== \"string\" ? \"5000ms\" : value;\n\t}\n\n\tprotected readonly _originalCSSBackgrounds: string[] = [];\n\tprotected readonly _originalCSSPositions: string[] = [];\n\tprotected readonly _originalCSSZIndexes: string[] = [];\n\tprotected _changer: number = -1;\n\tprotected readonly _styleElement: HTMLElement;\n\tprotected _isAfterOpaque: boolean = false;\n\tprotected readonly _CSSBackgroundVarName: string;\n\tprotected readonly _CSSOpacityVarName: string;\n\tprotected readonly _CSSTransitionVarName: string;\n\tprotected readonly _CSSContentVarName: string;\n\n\tprotected _currentBackgroundIndex: number = -1;\n\t/**\n\t *\n\t * Get the index of the background currently being displayed.\n\t */\n\tpublic get currentBackgroundIndex(): number {\n\t\treturn this._currentBackgroundIndex;\n\t}\n\n\t/**\n\t * Creates a background changer instance with the specified options. To create a demo instance, omit the options parameter.\n\t * @constructor\n\t * @constructs bRando\n\t * @param options An object of optional options\n\t */\n\tconstructor(options: Options = {}) {\n\t\tthis._CSSSelector = typeof options.CSSSelector !== \"string\" ? \"body\" : options.CSSSelector;\n\t\tthis._nodes = document.querySelectorAll(this.CSSSelector);\n\t\tthis.backgrounds = options.backgrounds;\n\t\tthis.timeout = options.timeout;\n\t\tthis.random = options.random;\n\t\tthis.transition = options.transition;\n\t\tthis.nodes.forEach((e) => {\n\t\t\tthis._originalCSSBackgrounds.push((e as HTMLElement).style.background); // backup the original CSS background property\n\t\t\tthis._originalCSSPositions.push((e as HTMLElement).style.position); // backup the original CSS position property\n\t\t\tthis._originalCSSZIndexes.push((e as HTMLElement).style.zIndex); // backup the original CSS z-index property\n\t\t\t(e as HTMLElement).style.position = \"relative\"; // set each element to be relative\n\t\t});\n\t\tthis._styleElement = document.createElement(\"style\");\n\t\tthis._CSSBackgroundVarName = `--bRandoBg${this.CSSSelector.replace(/[^a-z0-9]/gi, \"\")}`;\n\t\tthis._CSSOpacityVarName = `--bRandoOpacity${this.CSSSelector.replace(/[^a-z0-9]/gi, \"\")}`;\n\t\tthis._CSSTransitionVarName = `--bRandoTransition${this.CSSSelector.replace(/[^a-z0-9]/gi, \"\")}`;\n\t\tthis._CSSContentVarName = `--bRandoContent${this.CSSSelector.replace(/[^a-z0-9]/gi, \"\")}`;\n\t\tthis._styleElement.innerText = `${this.CSSSelector}::after{background:var(${this._CSSBackgroundVarName});content:var(${this._CSSContentVarName});position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;opacity:var(${this._CSSOpacityVarName});transition: var(${this._CSSTransitionVarName});}`;\n\t\tdocument.head.append(this._styleElement);\n\t\tthis.nodes.forEach((e) => {\n\t\t\t(e as HTMLElement).style.setProperty(this._CSSOpacityVarName, \"0\");\n\t\t\t(e as HTMLElement).style.setProperty(this._CSSTransitionVarName, `opacity ${this.transition}`);\n\t\t\t(e as HTMLElement).style.setProperty(this._CSSContentVarName, \"''\");\n\t\t\t(e as HTMLElement).style.zIndex = \"0\";\n\t\t});\n\n\t\tthis.play();\n\t}\n\t/**\n\t * Plays the background changer it is called on.\n\t */\n\tplay(): void {\n\t\tif (this.isRemoved()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.pause();\n\t\tthis._changer = window.setInterval(() => {\n\t\t\tthis.next();\n\t\t}, this.timeout);\n\t}\n\t/**\n\t * Pauses the background changer it is called on.\n\t */\n\tpause(): void {\n\t\twindow.clearInterval(this._changer);\n\t\tthis._changer = -1;\n\t}\n\t/**\n\t * Switches to the next background of the changer it is called on.\n\t */\n\tnext(): void {\n\t\tif (this.isRemoved()) {\n\t\t\treturn;\n\t\t}\n\t\tconst getNewRandomBackgroundIndex = (): number => {\n\t\t\tlet newIndex: number;\n\t\t\tdo {\n\t\t\t\tnewIndex = Math.floor(Math.random() * this.backgrounds.length);\n\t\t\t} while (this.currentBackgroundIndex === newIndex);\n\t\t\treturn newIndex;\n\t\t};\n\t\t// if a changer exists reset it\n\t\tif (this._changer !== -1) {\n\t\t\tthis.play();\n\t\t}\n\t\tif (this.backgrounds.length > 1) {\n\t\t\tthis._currentBackgroundIndex = this.random ? getNewRandomBackgroundIndex() : this.currentBackgroundIndex === this.backgrounds.length - 1 ? (this._currentBackgroundIndex = 0) : this.currentBackgroundIndex + 1;\n\t\t} else if (this._currentBackgroundIndex === -1) {\n\t\t\tthis._currentBackgroundIndex = 0;\n\t\t}\n\n\t\tthis.nodes.forEach((e) => {\n\t\t\t(e as HTMLElement).style.setProperty(this._CSSTransitionVarName, `opacity ${this.transition}`);\n\t\t\tif (!this._isAfterOpaque) {\n\t\t\t\t(e as HTMLElement).style.setProperty(this._CSSBackgroundVarName, this.backgrounds[this.currentBackgroundIndex]);\n\t\t\t\t(e as HTMLElement).style.setProperty(this._CSSOpacityVarName, \"1\");\n\t\t\t} else {\n\t\t\t\t(e as HTMLElement).style.background = this.backgrounds[this.currentBackgroundIndex];\n\t\t\t\t(e as HTMLElement).style.setProperty(this._CSSOpacityVarName, \"0\");\n\t\t\t}\n\t\t});\n\t\tthis._isAfterOpaque = !this._isAfterOpaque;\n\t}\n\t/**\n\t * Removes the instance it is called on from DOM and reverts all selected HTML elements to their original state.\n\t */\n\tremove(): void {\n\t\tthis.pause();\n\t\tthis.nodes.forEach((e, i) => {\n\t\t\t// hide pseudo ::after elements\n\t\t\t(e as HTMLElement).style.setProperty(this._CSSOpacityVarName, \"0\");\n\t\t\t(e as HTMLElement).style.setProperty(this._CSSContentVarName, \"none\");\n\t\t\t(e as HTMLElement).style.background = this._originalCSSBackgrounds[i]; // restore original CSS background property\n\t\t\t(e as HTMLElement).style.position = this._originalCSSPositions[i]; // restore original CSS position property\n\t\t\t(e as HTMLElement).style.zIndex = this._originalCSSZIndexes[i]; // restore original CSS z-index property\n\t\t});\n\t\tthis._styleElement.remove();\n\t}\n\t/**\n\t * Check whether the background changer is running.\n\t * @returns True if running\n\t */\n\tisRunning(): boolean {\n\t\treturn this._changer !== -1 ? true : false;\n\t}\n\t/**\n\t * Check whether the background changer has been removed.\n\t * @returns True if removed from the DOM\n\t */\n\tisRemoved(): boolean {\n\t\treturn !this._styleElement.isConnected;\n\t}\n}\n","import { bRando, Options } from \"../bRando\";\n\n/**\n * A function to create a bRando instance (background changer) with the specified options.\n *\n * @example\n * Create a demo instance for testing or verifying correct installation by omitting the options parameter.\n * ```javascript\n * const demo = bRando.create(); // Selects the <body> element by default\n * ```\n * A usage example can be found in [the readme](https://github.com/isaacyakl/brandojs#-usage).\n *\n * @returns A new bRando instance\n */\nexport function create(options?: Options): bRando {\n\treturn new bRando(options);\n}\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","bRando","CSSSelector","_CSSSelector","nodes","_nodes","backgrounds","_backgrounds","Array","isArray","every","b","scriptEl","from","document","scripts","find","e","src","includes","packageJSON","scriptsPath","undefined","substring","lastIndexOf","timeout","_timeout","_changer","pause","play","random","_random","transition","_transition","currentBackgroundIndex","_currentBackgroundIndex","constructor","options","querySelectorAll","forEach","_originalCSSBackgrounds","push","style","background","_originalCSSPositions","position","_originalCSSZIndexes","zIndex","_styleElement","createElement","_CSSBackgroundVarName","replace","_CSSOpacityVarName","_CSSTransitionVarName","_CSSContentVarName","innerText","head","append","setProperty","isRemoved","window","setInterval","next","clearInterval","getNewRandomBackgroundIndex","newIndex","Math","floor","length","_isAfterOpaque","remove","i","isRunning","isConnected","create"],"sourceRoot":""}