!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bRando=e():t.bRando=e()}(this,(function(){return function(){"use strict";var t={d:function(e,r){for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function r(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.r(e),t.d(e,{bRando:function(){return i}});class i{get CSSSelector(){return this._CSSSelector}set CSSSelector(t){this._CSSSelector="string"!=typeof t?"body":t}get backgrounds(){return this._backgrounds}set backgrounds(t){Array.isArray(t)&&t.every((t=>"string"==typeof t))?this._backgrounds=t:this._backgrounds=['url("/img/alex-knight-vaA6EQiUSo4-unsplash_result.jpg") center/cover no-repeat','url("/img/joel-fulgencio-01fAtHwYqo0-unsplash_result.jpg") center/cover no-repeat','url("/img/pawel-nolbert-4u2U8EO9OzY-unsplash_result.jpg") center/cover no-repeat','url("/img/stephan-valentin-oqYLdbuJDQU-unsplash_result.jpg") center/cover no-repeat','url("/img/waranont-joe-T7qyLNPwgKA-unsplash_result.jpg") center/cover no-repeat',"linear-gradient(90deg, rgba(231,4,4,1) 0%, rgba(231,4,222,1) 50%, rgba(10,233,227,1) 100%)"]}get timeout(){return this._timeout}set timeout(t){this._timeout=t||1e4}get random(){return this._random}set random(t){this._random=null==t||t}get CSSTransition(){return this._CSSTransition}set CSSTransition(t){this._CSSTransition=null==t?"5000ms":t}get isAfterOpaque(){return this._isAfterOpaque}set isAfterOpaque(t){this._isAfterOpaque=t}get lastBackground(){return this._lastBackground}set lastBackground(t){this._lastBackground=t}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,"_CSSSelector",""),r(this,"_backgrounds",[]),r(this,"_timeout",0),r(this,"_random",!0),r(this,"_CSSTransition",""),r(this,"originalCSSBackgrounds",[]),r(this,"originalCSSPositions",[]),r(this,"changer",0),r(this,"_isAfterOpaque",!1),r(this,"_lastBackground",-1),this.CSSSelector=t.CSSSelector,this.nodes=document.querySelectorAll(this.CSSSelector),this.backgrounds=t.CSSBackgrounds,this.timeout=t.timeoutMs,this.random=t.randomOrder,this.CSSTransition=t.CSSTransition,this.nodes.forEach((t=>{this.originalCSSBackgrounds.push(t.style.background),this.originalCSSPositions.push(t.style.position),t.style.position="relative"})),this.styleElement=document.createElement("style"),this.CSSBackgroundVarName=`--bRandoBg${this.CSSSelector.replace(/[^a-z0-9]/gi,"")}`,this.CSSOpacityVarName=`--bRandoOpacity${this.CSSSelector.replace(/[^a-z0-9]/gi,"")}`,this.CSSTransitionVarName=`--bRandoTransition${this.CSSSelector.replace(/[^a-z0-9]/gi,"")}`,this.styleElement.innerText=`${this.CSSSelector}::after{background:var(${this.CSSBackgroundVarName});content:'';position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;opacity:var(${this.CSSOpacityVarName});transition: var(${this.CSSTransitionVarName});}`,document.head.append(this.styleElement),this.nodes.forEach((t=>{t.style.setProperty(this.CSSOpacityVarName,"0"),t.style.setProperty(this.CSSTransitionVarName,`opacity ${this.CSSTransition}`),t.style.zIndex="0"}))}static create(){return new i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}play(){this.next(),this.changer=window.setInterval((()=>{this.next()}),this.timeout)}pause(){clearInterval(this.changer)}next(){this.lastBackground=this.random?(()=>{let t;do{t=Math.floor(Math.random()*this.backgrounds.length)}while(this.lastBackground===t);return t})():this.lastBackground===this.backgrounds.length-1?this.lastBackground=0:this.lastBackground+1,this.nodes.forEach((t=>{this.isAfterOpaque?(t.style.background=this.backgrounds[this.lastBackground],t.style.setProperty(this.CSSOpacityVarName,"0")):(t.style.setProperty(this.CSSBackgroundVarName,this.backgrounds[this.lastBackground]),t.style.setProperty(this.CSSOpacityVarName,"1"))})),this.isAfterOpaque=!this.isAfterOpaque}remove(){this.pause(),this.nodes.forEach(((t,e)=>{t.style.background=this.originalCSSBackgrounds[e],t.style.position=this.originalCSSPositions[e]}))}}return e}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUtnQyxlQUlSYSxFQUFrQkcsTUFBTUMsV0FBYWpELEtBQUtvQixZQUFZcEIsS0FBS2tDLGdCQUMzRFcsRUFBa0JHLE1BQU1hLFlBQVk3RCxLQUFLd0Qsa0JBQW1CLE9BSjVEWCxFQUFrQkcsTUFBTWEsWUFBWTdELEtBQUtzRCxxQkFBc0J0RCxLQUFLb0IsWUFBWXBCLEtBQUtrQyxpQkFDckZXLEVBQWtCRyxNQUFNYSxZQUFZN0QsS0FBS3dELGtCQUFtQixLQUk5RCxJQUVEeEQsS0FBS2dDLGVBQWlCaEMsS0FBS2dDLGFBQzVCLENBQ0EyQyxTQUNDM0UsS0FBS29FLFFBQ0xwRSxLQUFLc0MsTUFBTU0sU0FBUSxDQUFDQyxFQUFHK0IsS0FDckIvQixFQUFrQkcsTUFBTUMsV0FBYWpELEtBQUs4Qyx1QkFBdUI4QixHQUNqRS9CLEVBQWtCRyxNQUFNRyxTQUFXbkQsS0FBS2tELHFCQUFxQjBCLEVBQUUsR0FFbEUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JSYW5kby93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vYlJhbmRvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JSYW5kby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYlJhbmRvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYlJhbmRvL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYlJhbmRvLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJSYW5kb1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJiUmFuZG9cIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgY2xhc3MgYlJhbmRvIHtcblx0cHJpdmF0ZSBfQ1NTU2VsZWN0b3I6IHN0cmluZyA9IFwiXCI7XG5cdHB1YmxpYyBnZXQgQ1NTU2VsZWN0b3IoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fQ1NTU2VsZWN0b3I7XG5cdH1cblx0cHJpdmF0ZSBzZXQgQ1NTU2VsZWN0b3IodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMuX0NTU1NlbGVjdG9yID0gdHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiID8gXCJib2R5XCIgOiB2YWx1ZTtcblx0fVxuXG5cdHJlYWRvbmx5IG5vZGVzOiBOb2RlTGlzdDtcblxuXHRwcml2YXRlIF9iYWNrZ3JvdW5kczogc3RyaW5nW10gPSBbXTtcblx0cHVibGljIGdldCBiYWNrZ3JvdW5kcygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuX2JhY2tncm91bmRzO1xuXHR9XG5cdHB1YmxpYyBzZXQgYmFja2dyb3VuZHModmFsdWU6IHN0cmluZ1tdIHwgdW5kZWZpbmVkKSB7XG5cdFx0aWYgKFxuXHRcdFx0QXJyYXkuaXNBcnJheSh2YWx1ZSkgJiZcblx0XHRcdHZhbHVlLmV2ZXJ5KChiKSA9PiB7XG5cdFx0XHRcdHJldHVybiB0eXBlb2YgYiA9PT0gXCJzdHJpbmdcIjtcblx0XHRcdH0pXG5cdFx0KSB7XG5cdFx0XHR0aGlzLl9iYWNrZ3JvdW5kcyA9IHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBkZW1vIGJhY2tncm91bmRzXG5cdFx0XHQvLyBwcmV0dGllci1pZ25vcmVcblx0XHRcdHRoaXMuX2JhY2tncm91bmRzID0gW1xuXHRcdFx0XHQndXJsKFwiL2ltZy9hbGV4LWtuaWdodC12YUE2RVFpVVNvNC11bnNwbGFzaF9yZXN1bHQuanBnXCIpIGNlbnRlci9jb3ZlciBuby1yZXBlYXQnLCBcblx0XHRcdFx0J3VybChcIi9pbWcvam9lbC1mdWxnZW5jaW8tMDFmQXRId1lxbzAtdW5zcGxhc2hfcmVzdWx0LmpwZ1wiKSBjZW50ZXIvY292ZXIgbm8tcmVwZWF0JywgXG5cdFx0XHRcdCd1cmwoXCIvaW1nL3Bhd2VsLW5vbGJlcnQtNHUyVThFTzlPelktdW5zcGxhc2hfcmVzdWx0LmpwZ1wiKSBjZW50ZXIvY292ZXIgbm8tcmVwZWF0Jyxcblx0XHRcdFx0J3VybChcIi9pbWcvc3RlcGhhbi12YWxlbnRpbi1vcVlMZGJ1SkRRVS11bnNwbGFzaF9yZXN1bHQuanBnXCIpIGNlbnRlci9jb3ZlciBuby1yZXBlYXQnLFxuXHRcdFx0XHQndXJsKFwiL2ltZy93YXJhbm9udC1qb2UtVDdxeUxOUHdnS0EtdW5zcGxhc2hfcmVzdWx0LmpwZ1wiKSBjZW50ZXIvY292ZXIgbm8tcmVwZWF0Jyxcblx0XHRcdFx0J2xpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgyMzEsNCw0LDEpIDAlLCByZ2JhKDIzMSw0LDIyMiwxKSA1MCUsIHJnYmEoMTAsMjMzLDIyNywxKSAxMDAlKScsXG5cdFx0XHRdO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX3RpbWVvdXQ6IG51bWJlciA9IDA7XG5cdHB1YmxpYyBnZXQgdGltZW91dCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl90aW1lb3V0O1xuXHR9XG5cdHB1YmxpYyBzZXQgdGltZW91dCh2YWx1ZTogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG5cdFx0dGhpcy5fdGltZW91dCA9IHZhbHVlIHx8IDEwMDAwO1xuXHR9XG5cblx0cHJpdmF0ZSBfcmFuZG9tOiBib29sZWFuID0gdHJ1ZTtcblx0cHVibGljIGdldCByYW5kb20oKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX3JhbmRvbTtcblx0fVxuXHRwdWJsaWMgc2V0IHJhbmRvbSh2YWx1ZTogYm9vbGVhbiB8IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMuX3JhbmRvbSA9IHZhbHVlID09IG51bGwgPyB0cnVlIDogdmFsdWU7XG5cdH1cblxuXHRwcml2YXRlIF9DU1NUcmFuc2l0aW9uOiBzdHJpbmcgPSBcIlwiO1xuXHRwdWJsaWMgZ2V0IENTU1RyYW5zaXRpb24oKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fQ1NTVHJhbnNpdGlvbjtcblx0fVxuXHRwdWJsaWMgc2V0IENTU1RyYW5zaXRpb24odmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMuX0NTU1RyYW5zaXRpb24gPSB2YWx1ZSA9PSBudWxsID8gXCI1MDAwbXNcIiA6IHZhbHVlO1xuXHR9XG5cblx0cmVhZG9ubHkgb3JpZ2luYWxDU1NCYWNrZ3JvdW5kczogc3RyaW5nW10gPSBbXTtcblx0cmVhZG9ubHkgb3JpZ2luYWxDU1NQb3NpdGlvbnM6IHN0cmluZ1tdID0gW107XG5cdHByaXZhdGUgY2hhbmdlcjogbnVtYmVyID0gMDtcblx0cmVhZG9ubHkgc3R5bGVFbGVtZW50OiBIVE1MRWxlbWVudDtcblxuXHRwcml2YXRlIF9pc0FmdGVyT3BhcXVlOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgZ2V0IGlzQWZ0ZXJPcGFxdWUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzQWZ0ZXJPcGFxdWU7XG5cdH1cblx0cHJpdmF0ZSBzZXQgaXNBZnRlck9wYXF1ZSh2YWx1ZTogYm9vbGVhbikge1xuXHRcdHRoaXMuX2lzQWZ0ZXJPcGFxdWUgPSB2YWx1ZTtcblx0fVxuXG5cdHJlYWRvbmx5IENTU0JhY2tncm91bmRWYXJOYW1lOiBzdHJpbmc7XG5cdHJlYWRvbmx5IENTU09wYWNpdHlWYXJOYW1lOiBzdHJpbmc7XG5cdHJlYWRvbmx5IENTU1RyYW5zaXRpb25WYXJOYW1lOiBzdHJpbmc7XG5cblx0cHJpdmF0ZSBfbGFzdEJhY2tncm91bmQ6IG51bWJlciA9IC0xO1xuXHRwdWJsaWMgZ2V0IGxhc3RCYWNrZ3JvdW5kKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2xhc3RCYWNrZ3JvdW5kO1xuXHR9XG5cdHByaXZhdGUgc2V0IGxhc3RCYWNrZ3JvdW5kKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9sYXN0QmFja2dyb3VuZCA9IHZhbHVlO1xuXHR9XG5cblx0Y29uc3RydWN0b3Iob3B0aW9uczogeyBDU1NTZWxlY3Rvcj86IHN0cmluZzsgQ1NTQmFja2dyb3VuZHM/OiBzdHJpbmdbXTsgdGltZW91dE1zPzogbnVtYmVyOyByYW5kb21PcmRlcj86IGJvb2xlYW47IENTU1RyYW5zaXRpb24/OiBzdHJpbmcgfSA9IHt9KSB7XG5cdFx0dGhpcy5DU1NTZWxlY3RvciA9IG9wdGlvbnMuQ1NTU2VsZWN0b3I7XG5cdFx0dGhpcy5ub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5DU1NTZWxlY3Rvcik7XG5cdFx0dGhpcy5iYWNrZ3JvdW5kcyA9IG9wdGlvbnMuQ1NTQmFja2dyb3VuZHM7XG5cdFx0dGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0TXM7XG5cdFx0dGhpcy5yYW5kb20gPSBvcHRpb25zLnJhbmRvbU9yZGVyO1xuXHRcdHRoaXMuQ1NTVHJhbnNpdGlvbiA9IG9wdGlvbnMuQ1NTVHJhbnNpdGlvbjtcblx0XHR0aGlzLm5vZGVzLmZvckVhY2goKGUpID0+IHtcblx0XHRcdHRoaXMub3JpZ2luYWxDU1NCYWNrZ3JvdW5kcy5wdXNoKChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5iYWNrZ3JvdW5kKTsgLy8gYmFja3VwIHRoZSBvcmlnaW5hbCBDU1MgYmFja2dyb3VuZCBwcm9wZXJ0eVxuXHRcdFx0dGhpcy5vcmlnaW5hbENTU1Bvc2l0aW9ucy5wdXNoKChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5wb3NpdGlvbik7IC8vIGJhY2t1cCB0aGUgb3JpZ2luYWwgQ1NTIHBvc2l0aW9uIHByb3BlcnR5XG5cdFx0XHQoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7IC8vIHNldCBlYWNoIGVsZW1lbnQgdG8gYmUgcmVsYXRpdmVcblx0XHR9KTtcblx0XHR0aGlzLnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblx0XHR0aGlzLkNTU0JhY2tncm91bmRWYXJOYW1lID0gYC0tYlJhbmRvQmcke3RoaXMuQ1NTU2VsZWN0b3IucmVwbGFjZSgvW15hLXowLTldL2dpLCBcIlwiKX1gO1xuXHRcdHRoaXMuQ1NTT3BhY2l0eVZhck5hbWUgPSBgLS1iUmFuZG9PcGFjaXR5JHt0aGlzLkNTU1NlbGVjdG9yLnJlcGxhY2UoL1teYS16MC05XS9naSwgXCJcIil9YDtcblx0XHR0aGlzLkNTU1RyYW5zaXRpb25WYXJOYW1lID0gYC0tYlJhbmRvVHJhbnNpdGlvbiR7dGhpcy5DU1NTZWxlY3Rvci5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksIFwiXCIpfWA7XG5cdFx0dGhpcy5zdHlsZUVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dGhpcy5DU1NTZWxlY3Rvcn06OmFmdGVye2JhY2tncm91bmQ6dmFyKCR7dGhpcy5DU1NCYWNrZ3JvdW5kVmFyTmFtZX0pO2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDotMTtvcGFjaXR5OnZhcigke3RoaXMuQ1NTT3BhY2l0eVZhck5hbWV9KTt0cmFuc2l0aW9uOiB2YXIoJHt0aGlzLkNTU1RyYW5zaXRpb25WYXJOYW1lfSk7fWA7XG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmQodGhpcy5zdHlsZUVsZW1lbnQpO1xuXHRcdHRoaXMubm9kZXMuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0KGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnNldFByb3BlcnR5KHRoaXMuQ1NTT3BhY2l0eVZhck5hbWUsIFwiMFwiKTtcblx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLkNTU1RyYW5zaXRpb25WYXJOYW1lLCBgb3BhY2l0eSAke3RoaXMuQ1NTVHJhbnNpdGlvbn1gKTtcblx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS56SW5kZXggPSBcIjBcIjtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9wdGlvbnM6IHsgQ1NTU2VsZWN0b3I/OiBzdHJpbmc7IENTU0JhY2tncm91bmRzPzogc3RyaW5nW107IHRpbWVvdXRNcz86IG51bWJlcjsgcmFuZG9tT3JkZXI/OiBib29sZWFuOyBDU1NUcmFuc2l0aW9uPzogc3RyaW5nIH0gPSB7fSk6IGJSYW5kbyB7XG5cdFx0cmV0dXJuIG5ldyBiUmFuZG8ob3B0aW9ucyk7XG5cdH1cblxuXHRwbGF5KCk6IHZvaWQge1xuXHRcdHRoaXMubmV4dCgpO1xuXHRcdHRoaXMuY2hhbmdlciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHR0aGlzLm5leHQoKTtcblx0XHR9LCB0aGlzLnRpbWVvdXQpO1xuXHR9XG5cdHBhdXNlKCk6IHZvaWQge1xuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy5jaGFuZ2VyKTtcblx0fVxuXHRuZXh0KCk6IHZvaWQge1xuXHRcdGNvbnN0IGdldE5ld1JhbmRvbUJhY2tncm91bmRJbmRleCA9ICgpOiBudW1iZXIgPT4ge1xuXHRcdFx0bGV0IG5ld0luZGV4OiBudW1iZXI7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdG5ld0luZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGgpO1xuXHRcdFx0fSB3aGlsZSAodGhpcy5sYXN0QmFja2dyb3VuZCA9PT0gbmV3SW5kZXgpO1xuXHRcdFx0cmV0dXJuIG5ld0luZGV4O1xuXHRcdH07XG5cdFx0dGhpcy5sYXN0QmFja2dyb3VuZCA9IHRoaXMucmFuZG9tID8gZ2V0TmV3UmFuZG9tQmFja2dyb3VuZEluZGV4KCkgOiB0aGlzLmxhc3RCYWNrZ3JvdW5kID09PSB0aGlzLmJhY2tncm91bmRzLmxlbmd0aCAtIDEgPyAodGhpcy5sYXN0QmFja2dyb3VuZCA9IDApIDogdGhpcy5sYXN0QmFja2dyb3VuZCArIDE7XG5cdFx0dGhpcy5ub2Rlcy5mb3JFYWNoKChlKSA9PiB7XG5cdFx0XHRpZiAoIXRoaXMuaXNBZnRlck9wYXF1ZSkge1xuXHRcdFx0XHQoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkodGhpcy5DU1NCYWNrZ3JvdW5kVmFyTmFtZSwgdGhpcy5iYWNrZ3JvdW5kc1t0aGlzLmxhc3RCYWNrZ3JvdW5kXSk7XG5cdFx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLkNTU09wYWNpdHlWYXJOYW1lLCBcIjFcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbdGhpcy5sYXN0QmFja2dyb3VuZF07XG5cdFx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLkNTU09wYWNpdHlWYXJOYW1lLCBcIjBcIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5pc0FmdGVyT3BhcXVlID0gIXRoaXMuaXNBZnRlck9wYXF1ZTtcblx0fVxuXHRyZW1vdmUoKTogdm9pZCB7XG5cdFx0dGhpcy5wYXVzZSgpO1xuXHRcdHRoaXMubm9kZXMuZm9yRWFjaCgoZSwgaSkgPT4ge1xuXHRcdFx0KGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJhY2tncm91bmQgPSB0aGlzLm9yaWdpbmFsQ1NTQmFja2dyb3VuZHNbaV07IC8vIHJlc3RvcmUgb3JpZ2luYWwgQ1NTIGJhY2tncm91bmQgcHJvcGVydHlcblx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMub3JpZ2luYWxDU1NQb3NpdGlvbnNbaV07IC8vIHJlc3RvcmUgb3JpZ2luYWwgQ1NTIHBvc2l0aW9uIHByb3BlcnR5XG5cdFx0fSk7XG5cdH1cbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zOiB7IENTU1NlbGVjdG9yPzogc3RyaW5nOyBDU1NCYWNrZ3JvdW5kcz86IHN0cmluZ1tdOyB0aW1lb3V0TXM/OiBudW1iZXI7IHJhbmRvbU9yZGVyPzogYm9vbGVhbjsgQ1NTVHJhbnNpdGlvbj86IHN0cmluZyB9ID0ge30pOiBiUmFuZG8ge1xuLy8gXHRyZXR1cm4gbmV3IGJSYW5kbyhvcHRpb25zKTtcbi8vIH1cbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJiUmFuZG8iLCJDU1NTZWxlY3RvciIsIl9DU1NTZWxlY3RvciIsImJhY2tncm91bmRzIiwiX2JhY2tncm91bmRzIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJiIiwidGltZW91dCIsIl90aW1lb3V0IiwicmFuZG9tIiwiX3JhbmRvbSIsIkNTU1RyYW5zaXRpb24iLCJfQ1NTVHJhbnNpdGlvbiIsImlzQWZ0ZXJPcGFxdWUiLCJfaXNBZnRlck9wYXF1ZSIsImxhc3RCYWNrZ3JvdW5kIiwiX2xhc3RCYWNrZ3JvdW5kIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwibm9kZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJDU1NCYWNrZ3JvdW5kcyIsInRpbWVvdXRNcyIsInJhbmRvbU9yZGVyIiwiZm9yRWFjaCIsImUiLCJvcmlnaW5hbENTU0JhY2tncm91bmRzIiwicHVzaCIsInN0eWxlIiwiYmFja2dyb3VuZCIsIm9yaWdpbmFsQ1NTUG9zaXRpb25zIiwicG9zaXRpb24iLCJzdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiQ1NTQmFja2dyb3VuZFZhck5hbWUiLCJyZXBsYWNlIiwiQ1NTT3BhY2l0eVZhck5hbWUiLCJDU1NUcmFuc2l0aW9uVmFyTmFtZSIsImlubmVyVGV4dCIsImhlYWQiLCJhcHBlbmQiLCJzZXRQcm9wZXJ0eSIsInpJbmRleCIsInBsYXkiLCJuZXh0IiwiY2hhbmdlciIsIndpbmRvdyIsInNldEludGVydmFsIiwicGF1c2UiLCJjbGVhckludGVydmFsIiwibmV3SW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJsZW5ndGgiLCJnZXROZXdSYW5kb21CYWNrZ3JvdW5kSW5kZXgiLCJyZW1vdmUiLCJpIl0sInNvdXJjZVJvb3QiOiIifQ==