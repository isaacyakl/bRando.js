!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bRando=e():t.bRando=e()}(this,(()=>(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{create:()=>i});class s{get backgrounds(){return this._backgrounds}set backgrounds(t){this._backgrounds=null==t?['red url("/img/alex-knight-vaA6EQiUSo4-unsplash.jpg") center/cover no-repeat','green url("/img/joel-fulgencio-01fAtHwYqo0-unsplash.jpg") center/cover no-repeat','blue url("/img/pawel-nolbert-4u2U8EO9OzY-unsplash.jpg") center/cover no-repeat']:t}get timeout(){return this._timeout}set timeout(t){this._timeout=t||1e4}get random(){return this._random}set random(t){this._random=null==t||t}get CSSTransition(){return this._CSSTransition}set CSSTransition(t){this._CSSTransition=null==t?"5000ms":t}get isAfterOpaque(){return this._isAfterOpaque}set isAfterOpaque(t){this._isAfterOpaque=t}get lastBackground(){return this._lastBackground}set lastBackground(t){this._lastBackground=t}constructor(t,e,s,i,r){this.CSSSelector=null==t||""==t?"body":t,this.nodes=document.querySelectorAll(this.CSSSelector),this.backgrounds=e,this.timeout=s,this.random=i,this.CSSTransition=r,this.originalCSSBackgrounds=[],this.originalCSSPositions=[],this.nodes.forEach((t=>{this.originalCSSBackgrounds.push(t.style.background),this.originalCSSPositions.push(t.style.position),t.style.position="relative"})),this.styleElement=document.createElement("style"),this.CSSBackgroundVarName=`--bRandoBg${this.CSSSelector.replace(/[^a-z0-9]/gi,"")}`,this.CSSOpacityVarName=`--bRandoOpacity${this.CSSSelector.replace(/[^a-z0-9]/gi,"")}`,this.CSSTransitionVarName=`--bRandoTransition${this.CSSSelector.replace(/[^a-z0-9]/gi,"")}`,this.styleElement.innerText=`${this.CSSSelector}::after{background:var(${this.CSSBackgroundVarName});content:'';position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;opacity:var(${this.CSSOpacityVarName});transition: var(${this.CSSTransitionVarName});}`,document.head.append(this.styleElement),this.isAfterOpaque=!1,this.lastBackground=-1,this.nodes.forEach((t=>{t.style.setProperty(this.CSSOpacityVarName,"0"),t.style.setProperty(this.CSSTransitionVarName,`opacity ${this.CSSTransition}`),t.style.zIndex="0"}))}play(){this.next(),this.timer=window.setInterval((()=>{this.next()}),this.timeout)}pause(){clearInterval(this.timer)}next(){this.lastBackground=this.random?(()=>{let t;do{t=Math.floor(Math.random()*this.backgrounds.length)}while(this.lastBackground===t);return t})():this.lastBackground===this.backgrounds.length-1?this.lastBackground=0:this.lastBackground+1,this.nodes.forEach((t=>{this.isAfterOpaque?(t.style.background=this.backgrounds[this.lastBackground],t.style.setProperty(this.CSSOpacityVarName,"0")):(t.style.setProperty(this.CSSBackgroundVarName,this.backgrounds[this.lastBackground]),t.style.setProperty(this.CSSOpacityVarName,"1"))})),this.isAfterOpaque=!this.isAfterOpaque}remove(){this.pause(),this.nodes.forEach(((t,e)=>{t.style.background=this.originalCSSBackgrounds[e],t.style.position=this.originalCSSPositions[e]}))}}function i(t,e,i,r,o){return new s(t,e,i,r,o)}return new s("body",["white","blue","red"],2e3,!0,"1000ms").play(),e})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtpQyxNQUFNSyxTQUFRLENBQUNDLEVBQUc2QixLQUNyQjdCLEVBQWtCRSxNQUFNQyxXQUFhMUMsS0FBS29DLHVCQUF1QmdDLEdBQ2pFN0IsRUFBa0JFLE1BQU1FLFNBQVczQyxLQUFLcUMscUJBQXFCK0IsRUFBRSxHQUVsRSxFQy9ITSxTQUFTQyxFQUFPdEMsRUFBcUJDLEVBQTBCWixFQUFrQkUsRUFBa0JFLEdBQ3pHLE9BQU8sSUFBSVAsRUFBT2MsRUFBYUMsRUFBZ0JaLEVBQVNFLEVBQVFFLEVBQ2pFLEMsT0FFWSxJQUFJUCxFQUFPLE9BQVEsQ0FBQyxRQUFTLE9BQVEsT0FBUSxLQUFNLEVBQU0sVUFDakVzQyxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYlJhbmRvL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9iUmFuZG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYlJhbmRvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iUmFuZG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iUmFuZG8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9iUmFuZG8vLi9zcmMvYlJhbmRvLnRzIiwid2VicGFjazovL2JSYW5kby8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJiUmFuZG9cIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiYlJhbmRvXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgKCkgPT4ge1xucmV0dXJuICIsIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgYlJhbmRvIHtcclxuXHRyZWFkb25seSBub2RlczogTm9kZUxpc3Q7XHJcblx0cmVhZG9ubHkgQ1NTU2VsZWN0b3I6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSBfYmFja2dyb3VuZHM6IHN0cmluZ1tdO1xyXG5cdHB1YmxpYyBnZXQgYmFja2dyb3VuZHMoKTogc3RyaW5nW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2JhY2tncm91bmRzO1xyXG5cdH1cclxuXHRwdWJsaWMgc2V0IGJhY2tncm91bmRzKHZhbHVlOiBzdHJpbmdbXSkge1xyXG5cdFx0Ly8gcHJldHRpZXItaWdub3JlXHJcblx0XHR0aGlzLl9iYWNrZ3JvdW5kcyA9IHZhbHVlID09IG51bGwgPyBbXHJcbiAgICAgICAgICAgICdyZWQgdXJsKFwiL2ltZy9hbGV4LWtuaWdodC12YUE2RVFpVVNvNC11bnNwbGFzaC5qcGdcIikgY2VudGVyL2NvdmVyIG5vLXJlcGVhdCcsIFxyXG4gICAgICAgICAgICAnZ3JlZW4gdXJsKFwiL2ltZy9qb2VsLWZ1bGdlbmNpby0wMWZBdEh3WXFvMC11bnNwbGFzaC5qcGdcIikgY2VudGVyL2NvdmVyIG5vLXJlcGVhdCcsIFxyXG4gICAgICAgICAgICAnYmx1ZSB1cmwoXCIvaW1nL3Bhd2VsLW5vbGJlcnQtNHUyVThFTzlPelktdW5zcGxhc2guanBnXCIpIGNlbnRlci9jb3ZlciBuby1yZXBlYXQnXHJcbiAgICAgICAgXSA6IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBfdGltZW91dDogbnVtYmVyO1xyXG5cdHB1YmxpYyBnZXQgdGltZW91dCgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3RpbWVvdXQ7XHJcblx0fVxyXG5cdHB1YmxpYyBzZXQgdGltZW91dCh2YWx1ZTogbnVtYmVyKSB7XHJcblx0XHR0aGlzLl90aW1lb3V0ID0gdmFsdWUgfHwgMTAwMDA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9yYW5kb206IGJvb2xlYW47XHJcblx0cHVibGljIGdldCByYW5kb20oKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fcmFuZG9tO1xyXG5cdH1cclxuXHRwdWJsaWMgc2V0IHJhbmRvbSh2YWx1ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5fcmFuZG9tID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX0NTU1RyYW5zaXRpb246IHN0cmluZztcclxuXHRwdWJsaWMgZ2V0IENTU1RyYW5zaXRpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLl9DU1NUcmFuc2l0aW9uO1xyXG5cdH1cclxuXHRwdWJsaWMgc2V0IENTU1RyYW5zaXRpb24odmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5fQ1NTVHJhbnNpdGlvbiA9IHZhbHVlID09IG51bGwgPyBcIjUwMDBtc1wiIDogdmFsdWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHRpbWVyOiBudW1iZXI7XHJcblx0cmVhZG9ubHkgb3JpZ2luYWxDU1NCYWNrZ3JvdW5kczogc3RyaW5nW107XHJcblx0cmVhZG9ubHkgb3JpZ2luYWxDU1NQb3NpdGlvbnM6IHN0cmluZ1tdO1xyXG5cdHJlYWRvbmx5IHN0eWxlRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdHByaXZhdGUgX2lzQWZ0ZXJPcGFxdWU6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBnZXQgaXNBZnRlck9wYXF1ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLl9pc0FmdGVyT3BhcXVlO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldCBpc0FmdGVyT3BhcXVlKHZhbHVlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLl9pc0FmdGVyT3BhcXVlID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRyZWFkb25seSBDU1NCYWNrZ3JvdW5kVmFyTmFtZTogc3RyaW5nO1xyXG5cdHJlYWRvbmx5IENTU09wYWNpdHlWYXJOYW1lOiBzdHJpbmc7XHJcblx0cmVhZG9ubHkgQ1NTVHJhbnNpdGlvblZhck5hbWU6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSBfbGFzdEJhY2tncm91bmQ6IG51bWJlcjtcclxuXHRwdWJsaWMgZ2V0IGxhc3RCYWNrZ3JvdW5kKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbGFzdEJhY2tncm91bmQ7XHJcblx0fVxyXG5cdHByaXZhdGUgc2V0IGxhc3RCYWNrZ3JvdW5kKHZhbHVlOiBudW1iZXIpIHtcclxuXHRcdHRoaXMuX2xhc3RCYWNrZ3JvdW5kID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihDU1NTZWxlY3Rvcj86IHN0cmluZywgQ1NTQmFja2dyb3VuZHM/OiBzdHJpbmdbXSwgdGltZW91dD86IG51bWJlciwgcmFuZG9tPzogYm9vbGVhbiwgQ1NTVHJhbnNpdGlvbj86IHN0cmluZykge1xyXG5cdFx0dGhpcy5DU1NTZWxlY3RvciA9IENTU1NlbGVjdG9yID09IG51bGwgfHwgQ1NTU2VsZWN0b3IgPT0gXCJcIiA/IFwiYm9keVwiIDogQ1NTU2VsZWN0b3I7XHJcblx0XHR0aGlzLm5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLkNTU1NlbGVjdG9yKTtcclxuXHRcdHRoaXMuYmFja2dyb3VuZHMgPSBDU1NCYWNrZ3JvdW5kcztcclxuXHRcdHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XHJcblx0XHR0aGlzLnJhbmRvbSA9IHJhbmRvbTtcclxuXHRcdHRoaXMuQ1NTVHJhbnNpdGlvbiA9IENTU1RyYW5zaXRpb247XHJcblx0XHR0aGlzLm9yaWdpbmFsQ1NTQmFja2dyb3VuZHMgPSBbXTtcclxuXHRcdHRoaXMub3JpZ2luYWxDU1NQb3NpdGlvbnMgPSBbXTtcclxuXHRcdHRoaXMubm9kZXMuZm9yRWFjaCgoZSkgPT4ge1xyXG5cdFx0XHR0aGlzLm9yaWdpbmFsQ1NTQmFja2dyb3VuZHMucHVzaCgoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZCk7IC8vIGJhY2t1cCB0aGUgb3JpZ2luYWwgQ1NTIGJhY2tncm91bmQgcHJvcGVydHlcclxuXHRcdFx0dGhpcy5vcmlnaW5hbENTU1Bvc2l0aW9ucy5wdXNoKChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5wb3NpdGlvbik7IC8vIGJhY2t1cCB0aGUgb3JpZ2luYWwgQ1NTIHBvc2l0aW9uIHByb3BlcnR5XHJcblx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjsgLy8gc2V0IGVhY2ggZWxlbWVudCB0byBiZSByZWxhdGl2ZVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHRoaXMuQ1NTQmFja2dyb3VuZFZhck5hbWUgPSBgLS1iUmFuZG9CZyR7dGhpcy5DU1NTZWxlY3Rvci5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksIFwiXCIpfWA7XHJcblx0XHR0aGlzLkNTU09wYWNpdHlWYXJOYW1lID0gYC0tYlJhbmRvT3BhY2l0eSR7dGhpcy5DU1NTZWxlY3Rvci5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksIFwiXCIpfWA7XHJcblx0XHR0aGlzLkNTU1RyYW5zaXRpb25WYXJOYW1lID0gYC0tYlJhbmRvVHJhbnNpdGlvbiR7dGhpcy5DU1NTZWxlY3Rvci5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksIFwiXCIpfWA7XHJcblx0XHR0aGlzLnN0eWxlRWxlbWVudC5pbm5lclRleHQgPSBgJHt0aGlzLkNTU1NlbGVjdG9yfTo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoJHt0aGlzLkNTU0JhY2tncm91bmRWYXJOYW1lfSk7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDt6LWluZGV4Oi0xO29wYWNpdHk6dmFyKCR7dGhpcy5DU1NPcGFjaXR5VmFyTmFtZX0pO3RyYW5zaXRpb246IHZhcigke3RoaXMuQ1NTVHJhbnNpdGlvblZhck5hbWV9KTt9YDtcclxuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kKHRoaXMuc3R5bGVFbGVtZW50KTtcclxuXHRcdHRoaXMuaXNBZnRlck9wYXF1ZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5sYXN0QmFja2dyb3VuZCA9IC0xO1xyXG5cdFx0dGhpcy5ub2Rlcy5mb3JFYWNoKChlKSA9PiB7XHJcblx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLkNTU09wYWNpdHlWYXJOYW1lLCBcIjBcIik7XHJcblx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLkNTU1RyYW5zaXRpb25WYXJOYW1lLCBgb3BhY2l0eSAke3RoaXMuQ1NTVHJhbnNpdGlvbn1gKTtcclxuXHRcdFx0KGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdHBsYXkoKTogdm9pZCB7XHJcblx0XHR0aGlzLm5leHQoKTtcclxuXHRcdHRoaXMudGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm5leHQoKTtcclxuXHRcdH0sIHRoaXMudGltZW91dCk7XHJcblx0fVxyXG5cdHBhdXNlKCk6IHZvaWQge1xyXG5cdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcclxuXHR9XHJcblx0bmV4dCgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGdldE5ld1JhbmRvbUJhY2tncm91bmRJbmRleCA9ICgpOiBudW1iZXIgPT4ge1xyXG5cdFx0XHRsZXQgbmV3SW5kZXg6IG51bWJlcjtcclxuXHRcdFx0ZG8ge1xyXG5cdFx0XHRcdG5ld0luZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGgpO1xyXG5cdFx0XHR9IHdoaWxlICh0aGlzLmxhc3RCYWNrZ3JvdW5kID09PSBuZXdJbmRleCk7XHJcblx0XHRcdHJldHVybiBuZXdJbmRleDtcclxuXHRcdH07XHJcblx0XHR0aGlzLmxhc3RCYWNrZ3JvdW5kID0gdGhpcy5yYW5kb20gPyBnZXROZXdSYW5kb21CYWNrZ3JvdW5kSW5kZXgoKSA6IHRoaXMubGFzdEJhY2tncm91bmQgPT09IHRoaXMuYmFja2dyb3VuZHMubGVuZ3RoIC0gMSA/ICh0aGlzLmxhc3RCYWNrZ3JvdW5kID0gMCkgOiB0aGlzLmxhc3RCYWNrZ3JvdW5kICsgMTtcclxuXHRcdHRoaXMubm9kZXMuZm9yRWFjaCgoZSkgPT4ge1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNBZnRlck9wYXF1ZSkge1xyXG5cdFx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLkNTU0JhY2tncm91bmRWYXJOYW1lLCB0aGlzLmJhY2tncm91bmRzW3RoaXMubGFzdEJhY2tncm91bmRdKTtcclxuXHRcdFx0XHQoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkodGhpcy5DU1NPcGFjaXR5VmFyTmFtZSwgXCIxXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdChlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5iYWNrZ3JvdW5kID0gdGhpcy5iYWNrZ3JvdW5kc1t0aGlzLmxhc3RCYWNrZ3JvdW5kXTtcclxuXHRcdFx0XHQoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkodGhpcy5DU1NPcGFjaXR5VmFyTmFtZSwgXCIwXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuaXNBZnRlck9wYXF1ZSA9ICF0aGlzLmlzQWZ0ZXJPcGFxdWU7XHJcblx0fVxyXG5cdHJlbW92ZSgpOiB2b2lkIHtcclxuXHRcdHRoaXMucGF1c2UoKTtcclxuXHRcdHRoaXMubm9kZXMuZm9yRWFjaCgoZSwgaSkgPT4ge1xyXG5cdFx0XHQoZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMub3JpZ2luYWxDU1NCYWNrZ3JvdW5kc1tpXTtcclxuXHRcdFx0KGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5vcmlnaW5hbENTU1Bvc2l0aW9uc1tpXTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgYlJhbmRvIGZyb20gXCIuL2JSYW5kb1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShDU1NTZWxlY3Rvcjogc3RyaW5nLCBDU1NCYWNrZ3JvdW5kczogc3RyaW5nW10sIHRpbWVvdXQ/OiBudW1iZXIsIHJhbmRvbT86IGJvb2xlYW4sIENTU1RyYW5zaXRpb24/OiBzdHJpbmcpOiBiUmFuZG8ge1xyXG5cdHJldHVybiBuZXcgYlJhbmRvKENTU1NlbGVjdG9yLCBDU1NCYWNrZ3JvdW5kcywgdGltZW91dCwgcmFuZG9tLCBDU1NUcmFuc2l0aW9uKTtcclxufVxyXG5cclxuY29uc3QgYm9iID0gbmV3IGJSYW5kbyhcImJvZHlcIiwgW1wid2hpdGVcIiwgXCJibHVlXCIsIFwicmVkXCJdLCAyMDAwLCB0cnVlLCBcIjEwMDBtc1wiKTtcclxuYm9iLnBsYXkoKTtcclxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsImJSYW5kbyIsImJhY2tncm91bmRzIiwiX2JhY2tncm91bmRzIiwidGltZW91dCIsIl90aW1lb3V0IiwicmFuZG9tIiwiX3JhbmRvbSIsIkNTU1RyYW5zaXRpb24iLCJfQ1NTVHJhbnNpdGlvbiIsImlzQWZ0ZXJPcGFxdWUiLCJfaXNBZnRlck9wYXF1ZSIsImxhc3RCYWNrZ3JvdW5kIiwiX2xhc3RCYWNrZ3JvdW5kIiwiY29uc3RydWN0b3IiLCJDU1NTZWxlY3RvciIsIkNTU0JhY2tncm91bmRzIiwibm9kZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvcmlnaW5hbENTU0JhY2tncm91bmRzIiwib3JpZ2luYWxDU1NQb3NpdGlvbnMiLCJmb3JFYWNoIiwiZSIsInB1c2giLCJzdHlsZSIsImJhY2tncm91bmQiLCJwb3NpdGlvbiIsInN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJDU1NCYWNrZ3JvdW5kVmFyTmFtZSIsInJlcGxhY2UiLCJDU1NPcGFjaXR5VmFyTmFtZSIsIkNTU1RyYW5zaXRpb25WYXJOYW1lIiwiaW5uZXJUZXh0IiwiaGVhZCIsImFwcGVuZCIsInNldFByb3BlcnR5IiwiekluZGV4IiwicGxheSIsIm5leHQiLCJ0aW1lciIsIndpbmRvdyIsInNldEludGVydmFsIiwicGF1c2UiLCJjbGVhckludGVydmFsIiwibmV3SW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJsZW5ndGgiLCJnZXROZXdSYW5kb21CYWNrZ3JvdW5kSW5kZXgiLCJyZW1vdmUiLCJpIiwiY3JlYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==